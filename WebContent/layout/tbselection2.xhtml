<?xml version="1.0" encoding="UTF-8"?> 
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:f="http://java.sun.com/jsf/core"
 	  			xmlns:a="https://ajax4jsf.dev.java.net/ajax"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:rich="http://richfaces.ajax4jsf.org/rich">

<s:decorate id="sel" template="/layout/edit.xhtml">
	<ui:define name="label">#{tbunitselection.auselection.labelLevel1}:</ui:define>
	<h:selectOneMenu id="cbselau1" value="#{tbunitselection.auselection.unitLevel1}" required="#{required}" rendered="#{not tbunitselection.auselection.level1ReadOnly}">
		<s:selectItems var="it" value="#{tbunitselection.auselection.optionsLevel1}" noSelectionLabel="-" label="#{it.name}"/>
		<s:convertEntity />
		<a:support event="onchange" ajaxSingle="true" reRender="aulevels,#{rerender}" focus="cbselau2"/>
	</h:selectOneMenu>
	<h:outputText value="#{tbunitselection.auselection.unitLevel1.name}" rendered="#{tbunitselection.auselection.level1ReadOnly}" />
</s:decorate>                 

<h:panelGroup id="aulevels">
<s:decorate template="/layout/edit.xhtml" rendered="#{tbunitselection.auselection.unitLevel1.unitsCount > 0}">
	<ui:define name="label">#{tbunitselection.auselection.labelLevel2}:</ui:define>
	<h:selectOneMenu id="cbselau2" value="#{tbunitselection.auselection.unitLevel2}" rendered="#{not tbunitselection.auselection.level2ReadOnly}">
		<s:selectItems var="it" value="#{tbunitselection.auselection.optionsLevel2}" noSelectionLabel="-" label="#{it.name}"/>
		<s:convertEntity />
		<a:support event="onchange" ajaxSingle="true" reRender="aulevels,#{rerender}" focus="cbselau3"/>
	</h:selectOneMenu>
	<h:outputText value="#{tbunitselection.auselection.unitLevel1.name}" rendered="#{tbunitselection.auselection.level2ReadOnly}" />
</s:decorate>                 

<s:decorate template="/layout/edit.xhtml" rendered="#{tbunitselection.auselection.unitLevel2.unitsCount > 0}">
	<ui:define name="label">#{tbunitselection.auselection.labelLevel3}:</ui:define>
	<h:selectOneMenu id="cbselau3" value="#{tbunitselection.auselection.unitLevel3}" rendered="#{not tbunitselection.auselection.level3ReadOnly}">
		<s:selectItems var="it" value="#{tbunitselection.auselection.optionsLevel3}" noSelectionLabel="-" label="#{it.name}"/>
		<s:convertEntity />
		<a:support event="onchange" ajaxSingle="true" reRender="aulevels,#{rerender}" focus="cbselau4"/>
	</h:selectOneMenu>
	<h:outputText value="#{tbunitselection.auselection.unitLevel1.name}" rendered="#{tbunitselection.auselection.level3ReadOnly}" />
</s:decorate>                 

<s:decorate template="/layout/edit.xhtml" rendered="#{tbunitselection.auselection.unitLevel3.unitsCount > 0}">
	<ui:define name="label">#{tbunitselection.auselection.labelLevel4}:</ui:define>
	<h:selectOneMenu id="cbselau3" value="#{tbunitselection.auselection.unitLevel4}" rendered="#{not tbunitselection.auselection.level4ReadOnly}">
		<s:selectItems var="it" value="#{tbunitselection.auselection.optionsLevel4}" noSelectionLabel="-" label="#{it.name}"/>
		<s:convertEntity />
		<a:support event="onchange" ajaxSingle="true" reRender="aulevels,#{rerender}" focus="cbselau5"/>
	</h:selectOneMenu>
	<h:outputText value="#{tbunitselection.auselection.unitLevel1.name}" rendered="#{tbunitselection.auselection.level4ReadOnly}" />
</s:decorate>                 

<s:decorate template="/layout/edit.xhtml" rendered="#{tbunitselection.auselection.unitLevel4.unitsCount > 0}">
	<ui:define name="label">#{tbunitselection.auselection.labelLevel5}:</ui:define>
	<h:selectOneMenu id="cbselau3" value="#{tbunitselection.auselection.unitLevel5}" rendered="#{not tbunitselection.auselection.level5ReadOnly}">
		<s:selectItems var="it" value="#{tbunitselection.auselection.optionsLevel5}" noSelectionLabel="-" label="#{it.name}"/>
		<s:convertEntity />
		<a:support event="onchange" ajaxSingle="true" reRender="#{rerender}" focus="cbselau5"/>
	</h:selectOneMenu>
	<h:outputText value="#{tbunitselection.auselection.unitLevel1.name}" rendered="#{tbunitselection.auselection.level5ReadOnly}" />
</s:decorate>                 

<s:decorate template="/layout/edit.xhtml" rendered="#{tbunitselection.adminUnit != null}">
	<ui:define name="label">#{unitlabel}:</ui:define>
	<h:selectOneMenu id="cbunits" value="#{tbunitselection.tbunit}" required="#{required}">
        <s:selectItems value="#{tbunitselection.options}" var="it" label="#{it.name}" noSelectionLabel="-" />
      	<s:convertEntity/>
    </h:selectOneMenu>
    <ui:insert />
</s:decorate>
</h:panelGroup>

</ui:composition>