<!-- <?xml version="1.0" encoding="UTF-8"?> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
      			xmlns:s="http://jboss.com/products/seam/taglib"
                template="usertemplate.xhtml">
      
      <ui:param name="subject" value="Importing data notification" />
      
      <ui:define name="body">
          
        <h3>Importing data notification</h3><p/>
        Hi #{userLogin.user.name},<p/>
        This is an automatic message sent by the e-TB Manager and it shall not be answered.<br/>
        The system has just imported data from an external file into a table. The status is as follow:<p/>
        <table border="0" cellpadding="4" style="font-size:12px;font-name:Courier New;">
            <tr><td>Table:</td><td>#{messages[importAsyncExecution.table.messageKey]}</td></tr>
            <s:fragment rendered="#{empty importAsyncExecution.error}">
            	<tr><td>Imported records:</td><td>#{importAsyncExecution.lineNumber}</td></tr>
            </s:fragment>
            <s:fragment rendered="#{not empty importAsyncExecution.error}">
            	<tr><td>Record number:</td><td>#{importAsyncExecution.lineNumber}</td></tr>
            	<tr><td>Error:</td><td>#{importAsyncExecution.error}</td></tr>
            </s:fragment>
        </table>

      </ui:define>
      
</ui:composition>
