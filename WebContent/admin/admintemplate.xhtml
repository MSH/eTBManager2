<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:rich="http://richfaces.ajax4jsf.org/rich"
      template="/layout/template_new.xhtml">

<ui:param name="topmenu" value="3" />

<ui:define name="naveg">
	<div class="item#{submenu=='0'?' selected':''}">
		<s:link value="#{messages['admin.tables']}" view="/admin/index.xhtml" />
	</div>
	<div class="item#{submenu=='1'?' selected':''}">
		<s:link value="#{messages['admin.reports']}" view="/admin/reports.xhtml" />
	</div>
	<div class="item#{submenu=='2'?' selected':''}">
		<s:link value="#{messages['admin.config']}" view="/admin/config.xhtml" />
	</div>
</ui:define>


<ui:define name="left">
	<div class="vertical-menu">

	<s:fragment rendered="#{submenu=='0'}">
    	<s:link view="/admin/adminunits.xhtml" value="#{messages['admin.adminunits']}" propagation="none" rendered="#{s:hasRole('ADMINUNITS')}"/>
    	<s:link view="/admin/healthsys.xhtml" value="#{messages['admin.healthsys']}" propagation="none" rendered="#{s:hasRole('HEALTHSYS')}"/>
    	<s:fragment rendered="#{s:hasRole('TBUNITS')}">
			<span class="icon-hu" />
    		<s:link view="/admin/units.xhtml" value="#{messages['admin.tbunits']}" propagation="none" />
    	</s:fragment>
    	<s:link view="/admin/sources.xhtml" value="#{messages['admin.sources']}" propagation="none" rendered="#{s:hasRole('SOURCES')}"/>
    	<s:link view="/admin/substances.xhtml" value="#{messages['admin.substances']}" propagation="none" rendered="#{s:hasRole('SUBSTANCES')}"/>
    	<s:link view="/admin/medicines.xhtml" value="#{messages['admin.medicines']}" propagation="none" rendered="#{s:hasRole('MEDICINES')}"/>
    	<s:link view="/admin/groups.xhtml" value="#{messages['admin.groups']}" propagation="none" rendered="#{s:hasRole('GROUPS')}"/>
    	<s:link view="/admin/regimens.xhtml" value="#{messages['admin.regimens']}" propagation="none" rendered="#{s:hasRole('REGIMENS')}"/>
    	<s:fragment rendered="#{s:hasRole('LABS')}">
			<span class="icon-lab" />
	    	<s:link view="/admin/labs.xhtml" value="#{messages['admin.labs']}" propagation="none" />
    	</s:fragment>
		<hr/>
    	<s:link view="/admin/weekfreqs.xhtml" value="#{messages['admin.weeklyfreq']}" propagation="none" rendered="#{s:hasRole('WEEKFREQ')}"/>
    	<s:link view="/admin/ageranges.xhtml" value="#{messages['admin.ageranges']}" propagation="none" rendered="#{s:hasRole('AGERANGES')}"/>
    	<s:link view="/admin/fields.xhtml" value="#{messages['admin.fields']}" propagation="none" rendered="#{s:hasRole('FIELDS') and (not empty tbFields)}"/>
		<s:fragment rendered="#{s:hasRole('TAGS')}">
			<span class="tag-MANUAL-icon" />
    		<s:link view="/admin/tags.xhtml" value="#{messages['admin.tags']}" propagation="none" />
    	</s:fragment>
		<hr/>
		<s:fragment rendered="#{s:hasRole('USERS')}">
			<span class="icon-user" />
    		<s:link view="/admin/users.xhtml" value="#{messages['admin.users']}" propagation="none"/>
    	</s:fragment>
    	<s:link view="/admin/profiles.xhtml" value="#{messages['admin.profiles']}" propagation="none" rendered="#{s:hasRole('PROFILES')}"/>
		<s:fragment rendered="#{s:hasRole('IMPORT')}">
      		<hr/>
      		<s:link view="/admin/import.xhtml" value="#{messages['admin.import']}" propagation="none" />
		</s:fragment>
	</s:fragment>
	
	<s:fragment rendered="#{submenu=='1'}">
    	<s:link view="/admin/websessions.xhtml" value="#{messages['admin.websessions']}" propagation="none" rendered="#{s:hasRole('ONLINE')}" />
    	<s:link view="/admin/repusersession.xhtml" value="#{messages['admin.reports.usersession']}" propagation="none" rendered="#{s:hasRole('USERSESREP')}"/>
    	<s:link view="/admin/reptransactionlog.xhtml" value="#{messages['userrole.LOGREP']}" propagation="none" rendered="#{s:hasRole('LOGREP')}"/>
    	<s:link view="/admin/reptranstats.xhtml" value="#{messages['admin.reports.transactionstats']}" propagation="none" rendered="#{s:hasRole('LOGREP')}"/>
    	<s:link view="/admin/errorlogreport.xhtml" value="#{messages['userrole.ERRORLOGREP']}" propagation="none" rendered="#{s:hasRole('ERRORLOGREP')}"/>
    </s:fragment>

	<s:fragment rendered="#{submenu=='2'}">
    	<s:link view="/admin/workspacesetup.xhtml" value="#{messages['admin.setup']} #{defaultWorkspace.name}" propagation="none" rendered="#{s:hasRole('SETUPWS')}" />
    	<s:link view="/admin/syssetup.xhtml" value="#{messages['admin.syssetup']}" propagation="none" rendered="#{s:hasRole('SYSSETUP')}"/>
    	<s:link view="/admin/workspaces.xhtml" value="#{messages['admin.workspaces']}" propagation="none" rendered="#{s:hasRole('WORKSPACES')}"/>
	</s:fragment>
	</div>
</ui:define>

</ui:composition>  
