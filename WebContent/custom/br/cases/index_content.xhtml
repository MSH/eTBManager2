<?xml version="1.0" encoding="UTF-8"?> 
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
 	  			xmlns:a="https://ajax4jsf.dev.java.net/ajax"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:rich="http://richfaces.ajax4jsf.org/rich">

	<a:repeat value="#{caseFilters.classifications}" var="it">
		<span style="margin-center:20px;">
			<h:selectBooleanCheckbox value="#{it.selected}">
				<a:support event="onclick" ajaxSingle="true" reRender="pnlhealthunits"/>
			</h:selectBooleanCheckbox>
			#{messages[it.item.key]}
		</span>
	</a:repeat>

	<a:repeat value="#{healthUnitsQueryBR.adminUnits}" var="adm">
	<table class="table1">
		<tr><th colspan="6">
			<div class="text-big">#{adm.adminUnit.name}</div>
		</th></tr>
		<tr>
			<th>#{messages['cases.healthUnit']}</th>
			<th align="center">#{messages['CaseState.ONTREATMENT']}</th>
			<th align="center">#{messages['cases.trasnferin']}</th>
			<th align="center">#{messages['cases.trasnferout']}</th>
			<th align="center">#{messages['cases.medexammissing']}</th>
			<th></th>
		</tr>		
		<a:repeat value="#{adm.items}" var="it">
		<tr>
			<td><div class="icon-hu"/>#{it.unitName}</td>
			<td align="center">
				<s:link value="#{it.casesOnTreatment==null?'-':it.casesOnTreatment}"  view="/cases/searchresult.xhtml" styleClass="link-small">
					<f:param name="stateIndex" value="600"/>
					<f:param name="unitId" value="#{it.unitId}" />
					<f:param name="sc" value="CASE_UNIT_STATE"/>
					<f:param name="vs" />
					<f:param name="tag" />
				</s:link>
			</td>
			<td align="center">
				<s:link value="#{it.casesTransferIn==null?'-':it.casesTransferIn}"  view="/cases/searchresult.xhtml" styleClass="link-small">
					<f:param name="stateIndex" value="601"/>
					<f:param name="unitId" value="#{it.unitId}" />
					<f:param name="sc" value="CASE_UNIT_STATE"/>
					<f:param name="vs" />
					<f:param name="tag" />
				</s:link>
			</td>
			<td align="center">
				<s:link value="#{it.casesTransferOut==null?'-':it.casesTransferOut}"  view="/cases/searchresult.xhtml" styleClass="link-small">
					<f:param name="stateIndex" value="602"/>
					<f:param name="unitId" value="#{it.unitId}" />
					<f:param name="sc" value="CASE_UNIT_STATE"/>
					<f:param name="vs" />
					<f:param name="tag" />
				</s:link>
			</td>
			<td align="center">
				<s:link value="#{it.medExamMissing==null?'-':it.medExamMissing}"  view="/cases/searchresult.xhtml" styleClass="link-small">
					<f:param name="stateIndex" value="603"/>
					<f:param name="unitId" value="#{it.unitId}" />
					<f:param name="sc" value="CASE_UNIT_STATE"/>
					<f:param name="vs" />
					<f:param name="tag" />
				</s:link>
			</td>
			<td align="center"><s:link value="#{messages['cases.mantreatment']}" view="/cases/treatments.xhtml">
					<f:param name="huid" value="#{it.unitId}"/>
				</s:link> 
			</td>
		</tr>
		</a:repeat>
	</table>
	<div class="spacer" />
	</a:repeat>
    
</ui:composition>
