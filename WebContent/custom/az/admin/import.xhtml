<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:a="https://ajax4jsf.dev.java.net/ajax"
	template="/admin/admintemplate.xhtml">

	<ui:param name="title" value="#{messages['admin.import']}" />
	<ui:param name="submenu" value="0" />


	<ui:define name="content">
		<h1>#{title}</h1>
		<rich:tabPanel switchType="client" id="importPane">
			<rich:tab label="#{messages['admin.import.table']}">
				<h:form id="main" enctype="multipart/form-data" styleClass="form1">

					<div class="form-content">
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.desttable']}:</ui:define>
							<h:selectOneMenu value="#{importDataHome.table}" required="true">
								<s:selectItems value="#{importDataHome.tables}" var="it"
									label="#{messages[it.messageKey]}" noSelectionLabel="-" />
								<s:convertEnum />
							</h:selectOneMenu>
						</s:decorate>

						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.file']}:</ui:define>
							<s:fileUpload data="#{importDataHome.file}" required="true">
							</s:fileUpload>
						</s:decorate>

						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.delimiter']}:</ui:define>
							<h:selectOneMenu value="#{importDataHome.delimiter}"
								required="true">
								<f:selectItems value="#{importDataHome.delimiters}" />
							</h:selectOneMenu>
						</s:decorate>

						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.charset']}:</ui:define>
							<h:selectOneMenu value="#{importDataHome.charset}"
								required="true">
								<f:selectItems value="#{importDataHome.charsets}" />
							</h:selectOneMenu>
						</s:decorate>

					</div>

					<div class="form-footer">
						<a:commandLink action="#{importDataHome.execute}"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="main,messages">
							<span>#{messages['form.import']}</span>
						</a:commandLink>
					</div>
				</h:form>
			</rich:tab>
			<rich:tab label="#{messages['admin.import.eidss']}">
				<h:form id="eidss" styleClass="form1">
					<div class="form-content">
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.url']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.url}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.org']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.orgName}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.login']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.login}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.password']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.password}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.language']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.language}"
								style="width:400px;" maxlength="20" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.timeout']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.timeout}"
								style="width:400px;" maxlength="20" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.diags']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.diagnosis}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/edit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.states']}:</ui:define>
							<h:inputText value="#{eidssIntHome.config.caseStates}"
								style="width:400px;" maxlength="100" required="true"></h:inputText>
						</s:decorate>
						<s:decorate template="/layout/dateedit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.from']}:</ui:define>
							<ui:param name="datefield" value="#{eidssIntHome.config.from}" />
							<ui:param name="required" value="true" />
						</s:decorate>
						<s:decorate template="/layout/dateedit.xhtml">
							<ui:define name="label">#{messages['admin.import.eidss.toDate']}:</ui:define>
							<ui:param name="datefield" value="#{eidssIntHome.config.toDate}" />
							<ui:param name="required" value="true" />
						</s:decorate>
						<s:label styleClass="name">
							#{messages['admin.import.eidss.auto']}:
							</s:label>
						<h:selectBooleanCheckbox value="#{eidssIntHome.config.auto}" />

					</div>
					<div class="form-footer">
						<a:commandLink action="#{eidssIntHome.saveConfig()}"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="eidss,messages">
							<span>#{messages['form.save']}</span>
						</a:commandLink>
						<a:commandLink action="#{eidssIntHome.execute()}"
							rendered = "false"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="eidss,messages">
							<span>#{messages['form.import']}</span>
						</a:commandLink>
						<a:commandLink action="#{eidssIntHome.execute1()}"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="eidss,messages">
							<span>#{messages['form.import']}</span>
						</a:commandLink>
						<a:commandLink action="#{eidssIntHome.check()}"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="eidss,messages">
							<span>#{messages['admin.import.eidss.check']}</span>
						</a:commandLink>
						<a:commandLink action="#{eidssIntHome.stop()}"
							styleClass="button"
							onclick="if (!disableButton(this)) return false;"
							reRender="eidss,messages">
							<span>#{messages['admin.import.eidss.stop']}</span>
						</a:commandLink>
					</div>
				</h:form>
			</rich:tab>



		</rich:tabPanel>
	</ui:define>
</ui:composition>