/***************************************************************
* By Ricardo Memoria - 2012 mar 19th
****************************************************************/

ALTER TABLE `administrativeunit`
 DROP FOREIGN KEY `FK3B6F13B2B3B1717`;

ALTER TABLE `administrativeunit`
 DROP FOREIGN KEY `FK3B6F13B2D19C2BC5`;

ALTER TABLE `administrativeunit`
 DROP FOREIGN KEY `FK3B6F13B23B7F905D`;

ALTER TABLE `administrativeunit` ADD CONSTRAINT `FK3B6F13B23B7F905D` FOREIGN KEY `FK3B6F13B23B7F905D` (`COUNTRYSTRUCTURE_ID`)
    REFERENCES `countrystructure` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3B6F13B2B3B1717` FOREIGN KEY `FK3B6F13B2B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3B6F13B2D19C2BC5` FOREIGN KEY `FK3B6F13B2D19C2BC5` (`PARENT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `agerange`
 DROP FOREIGN KEY `FK57C1879EB3B1717`;

ALTER TABLE `agerange` ADD CONSTRAINT `FK57C1879EB3B1717` FOREIGN KEY `FK57C1879EB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `batch`
 DROP FOREIGN KEY `FK592D73A76AA9ADD`;

ALTER TABLE `batch`
 DROP FOREIGN KEY `FK592D73ABC45025D`;

ALTER TABLE `batch` ADD CONSTRAINT `FK592D73A76AA9ADD` FOREIGN KEY `FK592D73A76AA9ADD` (`RECEIVINGITEM_ID`)
    REFERENCES `medicinereceivingitem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK592D73ABC45025D` FOREIGN KEY `FK592D73ABC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `batchdispensing`
 DROP FOREIGN KEY `FK4342D1941CBB077D`;

ALTER TABLE `batchdispensing`
 DROP FOREIGN KEY `FK4342D1943B281F77`;

ALTER TABLE `batchdispensing`
 DROP FOREIGN KEY `FK4342D194BA967077`;

ALTER TABLE `batchdispensing` ADD CONSTRAINT `FK4342D1941CBB077D` FOREIGN KEY `FK4342D1941CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK4342D1943B281F77` FOREIGN KEY `FK4342D1943B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK4342D194BA967077` FOREIGN KEY `FK4342D194BA967077` (`DISPENSING_ID`)
    REFERENCES `medicinedispensing` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `batchmovement`
 DROP FOREIGN KEY `FK5E1EFDE93B281F77`;

ALTER TABLE `batchmovement`
 DROP FOREIGN KEY `FK5E1EFDE94E21F23D`;

ALTER TABLE `batchmovement` ADD CONSTRAINT `FK5E1EFDE93B281F77` FOREIGN KEY `FK5E1EFDE93B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK5E1EFDE94E21F23D` FOREIGN KEY `FK5E1EFDE94E21F23D` (`MOVEMENT_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;


ALTER TABLE `batchquantity`
 DROP FOREIGN KEY `FK17B561C51CBB077D`;

ALTER TABLE `batchquantity`
 DROP FOREIGN KEY `FK17B561C53B281F77`;

ALTER TABLE `batchquantity`
 DROP FOREIGN KEY `FK17B561C571E04A4B`;

ALTER TABLE `batchquantity` ADD CONSTRAINT `FK17B561C51CBB077D` FOREIGN KEY `FK17B561C51CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK17B561C53B281F77` FOREIGN KEY `FK17B561C53B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK17B561C571E04A4B` FOREIGN KEY `FK17B561C571E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;


ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA218FFBE9`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA3AEDFE05`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA3EB540D4`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA450CEBE3`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA5F8F0119`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA755F6B9C`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA7E2A0E3A`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA82DD737C`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AA922082C0`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AAC0F2BF7A`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AAC112D593`;

ALTER TABLE `casedatabr`
 DROP FOREIGN KEY `FKDF8310AAFF7F75AD`;

ALTER TABLE `casedatabr` ADD CONSTRAINT `FKDF8310AA218FFBE9` FOREIGN KEY `FKDF8310AA218FFBE9` (`CONTAGPLACE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA3AEDFE05` FOREIGN KEY `FKDF8310AA3AEDFE05` (`SCHEMACHANGETYPE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA3EB540D4` FOREIGN KEY `FKDF8310AA3EB540D4` (`PREGNANCEPERIOD`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA450CEBE3` FOREIGN KEY `FKDF8310AA450CEBE3` (`POSITION`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA5F8F0119` FOREIGN KEY `FKDF8310AA5F8F0119` (`EDUCATIONALDEGREE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA755F6B9C` FOREIGN KEY `FKDF8310AA755F6B9C` (`ADMINUNIT_USORIGEM_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA7E2A0E3A` FOREIGN KEY `FKDF8310AA7E2A0E3A` (`OUTCOME_RESISTANCETYPE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA82DD737C` FOREIGN KEY `FKDF8310AA82DD737C` (`id`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AA922082C0` FOREIGN KEY `FKDF8310AA922082C0` (`SKINCOLOR`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AAC0F2BF7A` FOREIGN KEY `FKDF8310AAC0F2BF7A` (`OUTCOME_REGIMENCHANGED`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AAC112D593` FOREIGN KEY `FKDF8310AAC112D593` (`MICROBACTERIOSE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKDF8310AAFF7F75AD` FOREIGN KEY `FKDF8310AAFF7F75AD` (`RESISTANCETYPE`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;


ALTER TABLE `casedataph`
 DROP FOREIGN KEY `FKDF83125274535945`;

ALTER TABLE `casedataph` ADD CONSTRAINT `FKDF83125274535945` FOREIGN KEY `FKDF83125274535945` (`SOURCEOFREFERRAL_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;

ALTER TABLE `casedispensing`
 DROP FOREIGN KEY `FKA9B27A0AA3F04EEB`;

ALTER TABLE `casedispensing` ADD CONSTRAINT `FKA9B27A0AA3F04EEB` FOREIGN KEY `FKA9B27A0AA3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `casedispensingdays`
 DROP FOREIGN KEY `FK_casedispensingdays_1`;

ALTER TABLE `casedispensingdays` ADD CONSTRAINT `FK_casedispensingdays_1` FOREIGN KEY `FK_casedispensingdays_1` (`id`)
    REFERENCES `casedispensing` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `caseissue`
 DROP FOREIGN KEY `FK288CABA971E04A4B`;

ALTER TABLE `caseissue`
 DROP FOREIGN KEY `FK288CABA9A3F04EEB`;

ALTER TABLE `caseissue`
 DROP FOREIGN KEY `FK288CABA9BA5DB63D`;

ALTER TABLE `caseissue` ADD CONSTRAINT `FK288CABA971E04A4B` FOREIGN KEY `FK288CABA971E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK288CABA9A3F04EEB` FOREIGN KEY `FK288CABA9A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK288CABA9BA5DB63D` FOREIGN KEY `FK288CABA9BA5DB63D` (`USER_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `caseseveritymark`
 DROP FOREIGN KEY `FKE543867A15ABF9AB`;

ALTER TABLE `caseseveritymark`
 DROP FOREIGN KEY `FKE543867A5A44EA43`;

ALTER TABLE `caseseveritymark` ADD CONSTRAINT `FKE543867A15ABF9AB` FOREIGN KEY `FKE543867A15ABF9AB` (`SYMPTOM_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE543867A5A44EA43` FOREIGN KEY `FKE543867A5A44EA43` (`CASE_ID`)
    REFERENCES `tbcaseaz` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `countrystructure`
 DROP FOREIGN KEY `FK31DFFE9DB3B1717`;

ALTER TABLE `countrystructure` ADD CONSTRAINT `FK31DFFE9DB3B1717` FOREIGN KEY `FK31DFFE9DB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `exambiopsy`
 DROP FOREIGN KEY `FK709D9DAD43A836FD`;

ALTER TABLE `exambiopsy`
 DROP FOREIGN KEY `FK709D9DADE58A3BF3`;

ALTER TABLE `exambiopsy` ADD CONSTRAINT `FK709D9DAD43A836FD` FOREIGN KEY `FK709D9DAD43A836FD` (`LABORATORY_ID`)
    REFERENCES `laboratory` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK709D9DADE58A3BF3` FOREIGN KEY `FK709D9DADE58A3BF3` (`METHOD_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `examculture`
 DROP FOREIGN KEY `FKEC4E0CAF43A836FD`;

ALTER TABLE `examculture`
 DROP FOREIGN KEY `FKEC4E0CAFE58A3BF3`;

ALTER TABLE `examculture` ADD CONSTRAINT `FKEC4E0CAF43A836FD` FOREIGN KEY `FKEC4E0CAF43A836FD` (`LABORATORY_ID`)
    REFERENCES `laboratory` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKEC4E0CAFE58A3BF3` FOREIGN KEY `FKEC4E0CAFE58A3BF3` (`METHOD_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `examdst`
 DROP FOREIGN KEY `FK145D010666A4104C`;

ALTER TABLE `examdst`
 DROP FOREIGN KEY `FK145D01068861542`;

ALTER TABLE `examdst` ADD CONSTRAINT `FK145D010666A4104C` FOREIGN KEY `FK145D010666A4104C` (`LABORATORY_ID`)
    REFERENCES `laboratory` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK145D01068861542` FOREIGN KEY `FK145D01068861542` (`METHOD_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `examhiv`
 DROP FOREIGN KEY `FKB124F31626B85CCF`;

ALTER TABLE `examhiv`
 DROP FOREIGN KEY `FKB124F316A3F04EEB`;

ALTER TABLE `examhiv` 
 ADD CONSTRAINT `FKB124F316A3F04EEB` FOREIGN KEY `FKB124F316A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `exammicroscopy`
 DROP FOREIGN KEY `FK8B79F783FE125FEE`;

ALTER TABLE `exammicroscopy`
 DROP FOREIGN KEY `FKC6929FC366A4104C`;

ALTER TABLE `exammicroscopy`
 DROP FOREIGN KEY `FKC6929FC38861542`;

ALTER TABLE `exammicroscopy` ADD CONSTRAINT `FK8B79F783FE125FEE` FOREIGN KEY `FK8B79F783FE125FEE` (`LAB_ADMINUNIT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKC6929FC366A4104C` FOREIGN KEY `FKC6929FC366A4104C` (`LABORATORY_ID`)
    REFERENCES `laboratory` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKC6929FC38861542` FOREIGN KEY `FKC6929FC38861542` (`METHOD_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `examxray`
 DROP FOREIGN KEY `FK7380D5517EA8371A`;

ALTER TABLE `examxray`
 DROP FOREIGN KEY `FK7380D551A3F04EEB`;

ALTER TABLE `examxray`
 DROP FOREIGN KEY `FK7380D551D089CB3B`;

ALTER TABLE `examxray` ADD CONSTRAINT `FK7380D5517EA8371A` FOREIGN KEY `FK7380D5517EA8371A` (`PRESENTATION_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK7380D551A3F04EEB` FOREIGN KEY `FK7380D551A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK7380D551D089CB3B` FOREIGN KEY `FK7380D551D089CB3B` (`LOCALIZATION_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `fieldvalue`
 DROP FOREIGN KEY `FK239D7CB7B3B1717`;

ALTER TABLE `fieldvalue` ADD CONSTRAINT `FK239D7CB7B3B1717` FOREIGN KEY `FK239D7CB7B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `forecasting`
 DROP FOREIGN KEY `FK62614807B3B1717`;

ALTER TABLE `forecasting` ADD CONSTRAINT `FK62614807B3B1717` FOREIGN KEY `FK62614807B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `forecastingbatch`
 DROP FOREIGN KEY `FKE0B07B937AAD7377`;

ALTER TABLE `forecastingbatch` ADD CONSTRAINT `FKE0B07B937AAD7377` FOREIGN KEY `FKE0B07B937AAD7377` (`FORECASTINGMEDICINE_ID`)
    REFERENCES `forecastingmedicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `forecastingorder`
 DROP FOREIGN KEY `FKE16F2BA7AA08396`;

ALTER TABLE `forecastingorder` ADD CONSTRAINT `FKE16F2BA7AA08396` FOREIGN KEY `FKE16F2BA7AA08396` (`BATCH_ID`)
    REFERENCES `forecastingbatch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `healthsystem`
 DROP FOREIGN KEY `FK55C53F8BB3B1717`;

ALTER TABLE `healthsystem` ADD CONSTRAINT `FK55C53F8BB3B1717` FOREIGN KEY `FK55C53F8BB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;


ALTER TABLE `laboratory`
 DROP FOREIGN KEY `FKB9066FB321EFF75D`;

ALTER TABLE `laboratory`
 DROP FOREIGN KEY `FKB9066FB3B3B1717`;

ALTER TABLE `laboratory`
 DROP FOREIGN KEY `FKB9066FB3CEDEEA7C`;

ALTER TABLE `laboratory` ADD CONSTRAINT `FKB9066FB321EFF75D` FOREIGN KEY `FKB9066FB321EFF75D` (`HEALTHSYSTEM_ID`)
    REFERENCES `healthsystem` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKB9066FB3B3B1717` FOREIGN KEY `FKB9066FB3B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKB9066FB3CEDEEA7C` FOREIGN KEY `FKB9066FB3CEDEEA7C` (`ADMINUNIT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `histology`
 DROP FOREIGN KEY `FK66D63CC2A3F04EEB`;

ALTER TABLE `histology` ADD CONSTRAINT `FK66D63CC2A3F04EEB` FOREIGN KEY `FK66D63CC2A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicalexamination`
 DROP FOREIGN KEY `FK919DA4C0677ECC33`;

ALTER TABLE `medicalexamination`
 DROP FOREIGN KEY `FK919DA4C0A3F04EEB`;

ALTER TABLE `medicalexamination` ADD CONSTRAINT `FK919DA4C0677ECC33` FOREIGN KEY `FK919DA4C0677ECC33` (`SIDE_EFFECT`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK919DA4C0A3F04EEB` FOREIGN KEY `FK919DA4C0A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicine`
 DROP FOREIGN KEY `FKCA50563AB3B1717`;

ALTER TABLE `medicine` ADD CONSTRAINT `FKCA50563AB3B1717` FOREIGN KEY `FKCA50563AB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicinecomponent`
 DROP FOREIGN KEY `FK80E3280396FA537`;

ALTER TABLE `medicinecomponent`
 DROP FOREIGN KEY `FK80E32803BC45025D`;

ALTER TABLE `medicinecomponent` ADD CONSTRAINT `FK80E3280396FA537` FOREIGN KEY `FK80E3280396FA537` (`SUBSTANCE_ID`)
    REFERENCES `substance` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK80E32803BC45025D` FOREIGN KEY `FK80E32803BC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `medicinedispensing`
 DROP FOREIGN KEY `FK746D909471E04A4B`;

ALTER TABLE `medicinedispensing` ADD CONSTRAINT `FK746D909471E04A4B` FOREIGN KEY `FK746D909471E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicinedispensingbatch`
 DROP FOREIGN KEY `FK3AC83263B281F77`;

ALTER TABLE `medicinedispensingbatch`
 DROP FOREIGN KEY `FK3AC8326D4930137`;

ALTER TABLE `medicinedispensingbatch` ADD CONSTRAINT `FK3AC83263B281F77` FOREIGN KEY `FK3AC83263B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3AC8326D4930137` FOREIGN KEY `FK3AC8326D4930137` (`DISPENSINGITEM_ID`)
    REFERENCES `medicinedispensingitem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `medicinedispensingcase`
 DROP FOREIGN KEY `FK6B79A1C41CBB077D`;

ALTER TABLE `medicinedispensingcase`
 DROP FOREIGN KEY `FK6B79A1C43B281F77`;

ALTER TABLE `medicinedispensingcase`
 DROP FOREIGN KEY `FK6B79A1C4A3F04EEB`;

ALTER TABLE `medicinedispensingcase`
 DROP FOREIGN KEY `FK6B79A1C4BA967077`;

ALTER TABLE `medicinedispensingcase` ADD CONSTRAINT `FK6B79A1C41CBB077D` FOREIGN KEY `FK6B79A1C41CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B79A1C43B281F77` FOREIGN KEY `FK6B79A1C43B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B79A1C4A3F04EEB` FOREIGN KEY `FK6B79A1C4A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B79A1C4BA967077` FOREIGN KEY `FK6B79A1C4BA967077` (`DISPENSING_ID`)
    REFERENCES `medicinedispensing` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `medicinedispensingitem`
 DROP FOREIGN KEY `FK6B7CA1A71CBB077D`;

ALTER TABLE `medicinedispensingitem`
 DROP FOREIGN KEY `FK6B7CA1A74E21F23D`;

ALTER TABLE `medicinedispensingitem`
 DROP FOREIGN KEY `FK6B7CA1A7BA967077`;

ALTER TABLE `medicinedispensingitem`
 DROP FOREIGN KEY `FK6B7CA1A7BC45025D`;

ALTER TABLE `medicinedispensingitem` ADD CONSTRAINT `FK6B7CA1A71CBB077D` FOREIGN KEY `FK6B7CA1A71CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B7CA1A74E21F23D` FOREIGN KEY `FK6B7CA1A74E21F23D` (`MOVEMENT_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B7CA1A7BA967077` FOREIGN KEY `FK6B7CA1A7BA967077` (`DISPENSING_ID`)
    REFERENCES `medicinedispensing` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6B7CA1A7BC45025D` FOREIGN KEY `FK6B7CA1A7BC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicineorder`
 DROP FOREIGN KEY `FK51C005541A4DE779`;

ALTER TABLE `medicineorder`
 DROP FOREIGN KEY `FK51C0055464EE6730`;

ALTER TABLE `medicineorder`
 DROP FOREIGN KEY `FK51C00554B8652DB5`;

ALTER TABLE `medicineorder`
 DROP FOREIGN KEY `FK51C00554CBAE4EAA`;

ALTER TABLE `medicineorder` ADD CONSTRAINT `FK51C005541A4DE779` FOREIGN KEY `FK51C005541A4DE779` (`UNIT_TO_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK51C0055464EE6730` FOREIGN KEY `FK51C0055464EE6730` (`USER_CREATOR_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK51C00554B8652DB5` FOREIGN KEY `FK51C00554B8652DB5` (`AUTHORIZER_UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK51C00554CBAE4EAA` FOREIGN KEY `FK51C00554CBAE4EAA` (`UNIT_FROM_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicinereceiving`
 DROP FOREIGN KEY `FKFE056DE61CBB077D`;

ALTER TABLE `medicinereceiving`
 DROP FOREIGN KEY `FKFE056DE671E04A4B`;

ALTER TABLE `medicinereceiving` ADD CONSTRAINT `FKFE056DE61CBB077D` FOREIGN KEY `FKFE056DE61CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKFE056DE671E04A4B` FOREIGN KEY `FKFE056DE671E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicinereceivingitem`
 DROP FOREIGN KEY `FK806185F94E21F23D`;

ALTER TABLE `medicinereceivingitem`
 DROP FOREIGN KEY `FK806185F9D418CD1D`;

ALTER TABLE `medicinereceivingitem` ADD CONSTRAINT `FK806185F94E21F23D` FOREIGN KEY `FK806185F94E21F23D` (`MOVEMENT_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK806185F9D418CD1D` FOREIGN KEY `FK806185F9D418CD1D` (`RECEIVING_ID`)
    REFERENCES `medicinereceiving` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `medicineregimen`
 DROP FOREIGN KEY `FK6A83C3E71CBB077D`;

ALTER TABLE `medicineregimen`
 DROP FOREIGN KEY `FK6A83C3E7BC45025D`;

ALTER TABLE `medicineregimen`
 DROP FOREIGN KEY `FK6A83C3E7FB9ECED7`;

ALTER TABLE `medicineregimen` ADD CONSTRAINT `FK6A83C3E71CBB077D` FOREIGN KEY `FK6A83C3E71CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6A83C3E7BC45025D` FOREIGN KEY `FK6A83C3E7BC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK6A83C3E7FB9ECED7` FOREIGN KEY `FK6A83C3E7FB9ECED7` (`REGIMEN_ID`)
    REFERENCES `regimen` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

drop table medicinestrength;

ALTER TABLE `medicineunit`
 DROP FOREIGN KEY `FKE19D82BE1CBB077D`;

ALTER TABLE `medicineunit`
 DROP FOREIGN KEY `FKE19D82BE71E04A4B`;

ALTER TABLE `medicineunit`
 DROP FOREIGN KEY `FKE19D82BEBC45025D`;

ALTER TABLE `medicineunit` ADD CONSTRAINT `FKE19D82BE1CBB077D` FOREIGN KEY `FKE19D82BE1CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE19D82BE71E04A4B` FOREIGN KEY `FKE19D82BE71E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE19D82BEBC45025D` FOREIGN KEY `FKE19D82BEBC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `movement`
 DROP FOREIGN KEY `FKF9D200AF1CBB077D`;

ALTER TABLE `movement`
 DROP FOREIGN KEY `FKF9D200AF71E04A4B`;

ALTER TABLE `movement`
 DROP FOREIGN KEY `FKF9D200AFBC45025D`;

ALTER TABLE `movement` ADD CONSTRAINT `FKF9D200AF1CBB077D` FOREIGN KEY `FKF9D200AF1CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKF9D200AF71E04A4B` FOREIGN KEY `FKF9D200AF71E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKF9D200AFBC45025D` FOREIGN KEY `FKF9D200AFBC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `orderbatch`
 DROP FOREIGN KEY `FK2D37B0AC3B281F77`;

ALTER TABLE `orderbatch`
 DROP FOREIGN KEY `FK2D37B0ACA3A887B7`;

ALTER TABLE `orderbatch` ADD CONSTRAINT `FK2D37B0AC3B281F77` FOREIGN KEY `FK2D37B0AC3B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK2D37B0ACA3A887B7` FOREIGN KEY `FK2D37B0ACA3A887B7` (`ORDERITEM_ID`)
    REFERENCES `orderitem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `ordercase`
 DROP FOREIGN KEY `FKE8AFAB7EA3A887B7`;

ALTER TABLE `ordercase`
 DROP FOREIGN KEY `FKE8AFAB7EA3F04EEB`;

ALTER TABLE `ordercase` ADD CONSTRAINT `FKE8AFAB7EA3A887B7` FOREIGN KEY `FKE8AFAB7EA3A887B7` (`ORDERITEM_ID`)
    REFERENCES `orderitem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE8AFAB7EA3F04EEB` FOREIGN KEY `FKE8AFAB7EA3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `orderitem`
 DROP FOREIGN KEY `FKE8B2AB6116AEEE77`;

ALTER TABLE `orderitem`
 DROP FOREIGN KEY `FKE8B2AB611CBB077D`;

ALTER TABLE `orderitem`
 DROP FOREIGN KEY `FKE8B2AB618F3F74CE`;

ALTER TABLE `orderitem`
 DROP FOREIGN KEY `FKE8B2AB61BC45025D`;

ALTER TABLE `orderitem`
 DROP FOREIGN KEY `FKE8B2AB61EA7336F7`;

ALTER TABLE `orderitem` ADD CONSTRAINT `FKE8B2AB6116AEEE77` FOREIGN KEY `FKE8B2AB6116AEEE77` (`MOVEMENT_IN_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE8B2AB611CBB077D` FOREIGN KEY `FKE8B2AB611CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE8B2AB618F3F74CE` FOREIGN KEY `FKE8B2AB618F3F74CE` (`MOVEMENT_OUT_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE8B2AB61BC45025D` FOREIGN KEY `FKE8B2AB61BC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKE8B2AB61EA7336F7` FOREIGN KEY `FKE8B2AB61EA7336F7` (`ORDER_ID`)
    REFERENCES `medicineorder` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `patient`
 DROP FOREIGN KEY `FKD0D3EB05B3B1717`;

ALTER TABLE `patient` ADD CONSTRAINT `FKD0D3EB05B3B1717` FOREIGN KEY `FKD0D3EB05B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

drop table patientdispensing;

ALTER TABLE `prescribedmedicine`
 DROP FOREIGN KEY `FK142181D11CBB077D`;

ALTER TABLE `prescribedmedicine`
 DROP FOREIGN KEY `FK142181D1A3F04EEB`;

ALTER TABLE `prescribedmedicine`
 DROP FOREIGN KEY `FK142181D1BC45025D`;

ALTER TABLE `prescribedmedicine` ADD CONSTRAINT `FK142181D11CBB077D` FOREIGN KEY `FK142181D11CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK142181D1A3F04EEB` FOREIGN KEY `FK142181D1A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK142181D1BC45025D` FOREIGN KEY `FK142181D1BC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `prevtbtreatment`
 DROP FOREIGN KEY `FK824DD5B7A3F04EEB`;

ALTER TABLE `prevtbtreatment` ADD CONSTRAINT `FK824DD5B7A3F04EEB` FOREIGN KEY `FK824DD5B7A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `regimen`
 DROP FOREIGN KEY `FK40BCAF61B3B1717`;

ALTER TABLE `regimen` ADD CONSTRAINT `FK40BCAF61B3B1717` FOREIGN KEY `FK40BCAF61B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `regimenunit`
 DROP FOREIGN KEY `FK2A5AF06571E04A4B`;

ALTER TABLE `regimenunit`
 DROP FOREIGN KEY `FK2A5AF065FB9ECED7`;

ALTER TABLE `regimenunit` ADD CONSTRAINT `FK2A5AF06571E04A4B` FOREIGN KEY `FK2A5AF06571E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK2A5AF065FB9ECED7` FOREIGN KEY `FK2A5AF065FB9ECED7` (`REGIMEN_ID`)
    REFERENCES `regimen` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `resistancepattern`
 DROP FOREIGN KEY `FK12719137B3B1717`;

ALTER TABLE `resistancepattern` ADD CONSTRAINT `FK12719137B3B1717` FOREIGN KEY `FK12719137B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `res_prevtbtreatment`
 DROP FOREIGN KEY `FK972BA41896FA537`;

ALTER TABLE `res_prevtbtreatment`
 DROP FOREIGN KEY `FK972BA418E3BBBDF7`;

ALTER TABLE `res_prevtbtreatment` ADD CONSTRAINT `FK972BA41896FA537` FOREIGN KEY `FK972BA41896FA537` (`SUBSTANCE_ID`)
    REFERENCES `substance` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK972BA418E3BBBDF7` FOREIGN KEY `FK972BA418E3BBBDF7` (`PREVTBTREATMENT_ID`)
    REFERENCES `prevtbtreatment` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `source`
 DROP FOREIGN KEY `FKCA90681BB3B1717`;

ALTER TABLE `source` ADD CONSTRAINT `FKCA90681BB3B1717` FOREIGN KEY `FKCA90681BB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `stockposition`
 DROP FOREIGN KEY `FKCE181A3F1CBB077D`;

ALTER TABLE `stockposition`
 DROP FOREIGN KEY `FKCE181A3F71E04A4B`;

ALTER TABLE `stockposition`
 DROP FOREIGN KEY `FKCE181A3FBC45025D`;

ALTER TABLE `stockposition` ADD CONSTRAINT `FKCE181A3F1CBB077D` FOREIGN KEY `FKCE181A3F1CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCE181A3F71E04A4B` FOREIGN KEY `FKCE181A3F71E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCE181A3FBC45025D` FOREIGN KEY `FKCE181A3FBC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `substance`
 DROP FOREIGN KEY `FK1F97C570B3B1717`;

ALTER TABLE `substance` ADD CONSTRAINT `FK1F97C570B3B1717` FOREIGN KEY `FK1F97C570B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `substances_resistpattern`
 DROP FOREIGN KEY `FKCFDF2E2A489C06B7`;

ALTER TABLE `substances_resistpattern`
 DROP FOREIGN KEY `FKCFDF2E2AE53274C4`;

ALTER TABLE `substances_resistpattern` ADD CONSTRAINT `FKCFDF2E2A489C06B7` FOREIGN KEY `FKCFDF2E2A489C06B7` (`ResistancePattern_id`)
    REFERENCES `resistancepattern` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCFDF2E2AE53274C4` FOREIGN KEY `FKCFDF2E2AE53274C4` (`substances_id`)
    REFERENCES `substance` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `systemconfig`
 DROP FOREIGN KEY `FKF20356312D576F17`;

ALTER TABLE `systemconfig`
 DROP FOREIGN KEY `FKF20356316515C41D`;

ALTER TABLE `systemconfig`
 DROP FOREIGN KEY `FKF2035631B3B1717`;

ALTER TABLE `systemconfig` ADD CONSTRAINT `FKF20356312D576F17` FOREIGN KEY `FKF20356312D576F17` (`USERPROFILE_ID`)
    REFERENCES `userprofile` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKF20356316515C41D` FOREIGN KEY `FKF20356316515C41D` (`TBUNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKF2035631B3B1717` FOREIGN KEY `FKF2035631B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `systemparam`
 DROP FOREIGN KEY `FKA566ABBEB3B1717`;

ALTER TABLE `systemparam` ADD CONSTRAINT `FKA566ABBEB3B1717` FOREIGN KEY `FKA566ABBEB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `sys_user`
 DROP FOREIGN KEY `FK74A81DFD74417A53`;

ALTER TABLE `sys_user`
 DROP FOREIGN KEY `FK74A81DFDEE97D5CD`;

ALTER TABLE `sys_user` ADD CONSTRAINT `FK74A81DFD74417A53` FOREIGN KEY `FK74A81DFD74417A53` (`PARENTUSER_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK74A81DFDEE97D5CD` FOREIGN KEY `FK74A81DFDEE97D5CD` (`DEFAULTWORKSPACE_ID`)
    REFERENCES `userworkspace` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29E246C43F1`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29E5FA64001`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29E8B5B7C57`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29EB6B77515`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29ECEBEE212`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29ED14A332B`;

ALTER TABLE `tbcase`
 DROP FOREIGN KEY `FKCB85A29EFB9ECED7`;

ALTER TABLE `tbcase` ADD CONSTRAINT `FKCB85A29E246C43F1` FOREIGN KEY `FKCB85A29E246C43F1` (`PULMONARY_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29E5FA64001` FOREIGN KEY `FKCB85A29E5FA64001` (`EXTRAPULMONARY_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29E8B5B7C57` FOREIGN KEY `FKCB85A29E8B5B7C57` (`PATIENT_ID`)
    REFERENCES `patient` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29EB6B77515` FOREIGN KEY `FKCB85A29EB6B77515` (`EXTRAPULMONARY2_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29ECEBEE212` FOREIGN KEY `FKCB85A29ECEBEE212` (`REGIMEN_INI_ID`)
    REFERENCES `regimen` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29ED14A332B` FOREIGN KEY `FKCB85A29ED14A332B` (`NOTIF_ADMINUNIT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB85A29EFB9ECED7` FOREIGN KEY `FKCB85A29EFB9ECED7` (`REGIMEN_ID`)
    REFERENCES `regimen` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `tbcontact`
 DROP FOREIGN KEY `FK2BEC9DF2677F2ADA`;

ALTER TABLE `tbcontact`
 DROP FOREIGN KEY `FK2BEC9DF2F48DE4B0`;

ALTER TABLE `tbcontact` ADD CONSTRAINT `FK2BEC9DF2677F2ADA` FOREIGN KEY `FK2BEC9DF2677F2ADA` (`CONTACTTYPE_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK2BEC9DF2F48DE4B0` FOREIGN KEY `FK2BEC9DF2F48DE4B0` (`CONDUCT_ID`)
    REFERENCES `fieldvalue` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;


ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F221EFF75D`;

ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F28C2681AC`;

ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F2A96C5482`;

ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F2B3B1717`;

ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F2CEDEEA7C`;

ALTER TABLE `tbunit`
 DROP FOREIGN KEY `FKCB8E00F2E2EE17E8`;

ALTER TABLE `tbunit` ADD CONSTRAINT `FKCB8E00F221EFF75D` FOREIGN KEY `FKCB8E00F221EFF75D` (`HEALTHSYSTEM_ID`)
    REFERENCES `healthsystem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB8E00F28C2681AC` FOREIGN KEY `FKCB8E00F28C2681AC` (`SECONDLINE_SUPPLIER_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB8E00F2A96C5482` FOREIGN KEY `FKCB8E00F2A96C5482` (`AUTHORIZERUNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB8E00F2B3B1717` FOREIGN KEY `FKCB8E00F2B3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB8E00F2CEDEEA7C` FOREIGN KEY `FKCB8E00F2CEDEEA7C` (`ADMINUNIT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKCB8E00F2E2EE17E8` FOREIGN KEY `FKCB8E00F2E2EE17E8` (`FIRSTLINE_SUPPLIER_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE SET NULL
    ON UPDATE CASCADE;
ALTER TABLE `transactionlog`
 DROP FOREIGN KEY `FK3C3C7BA67EB849D`;

ALTER TABLE `transactionlog`
 DROP FOREIGN KEY `FK3C3C7BA6B5E1CBB7`;

ALTER TABLE `transactionlog`
 DROP FOREIGN KEY `FK3C3C7BA6B93F8B48`;

ALTER TABLE `transactionlog` ADD CONSTRAINT `FK3C3C7BA67EB849D` FOREIGN KEY `FK3C3C7BA67EB849D` (`WORKSPACELOG_ID`)
    REFERENCES `workspacelog` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3C3C7BA6B5E1CBB7` FOREIGN KEY `FK3C3C7BA6B5E1CBB7` (`USERLOG_ID`)
    REFERENCES `userlog` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3C3C7BA6B93F8B48` FOREIGN KEY `FK3C3C7BA6B93F8B48` (`ROLE_ID`)
    REFERENCES `userrole` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE
, AUTO_INCREMENT = 988998;
ALTER TABLE `transfer`
 DROP FOREIGN KEY `FK4C58B7EB19ADE639`;

ALTER TABLE `transfer`
 DROP FOREIGN KEY `FK4C58B7EB36816019`;

ALTER TABLE `transfer`
 DROP FOREIGN KEY `FK4C58B7EB5198C928`;

ALTER TABLE `transfer`
 DROP FOREIGN KEY `FK4C58B7EBFAA5A18A`;

ALTER TABLE `transfer` ADD CONSTRAINT `FK4C58B7EB19ADE639` FOREIGN KEY `FK4C58B7EB19ADE639` (`UNIT_ID_TO`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK4C58B7EB36816019` FOREIGN KEY `FK4C58B7EB36816019` (`USER_TO_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK4C58B7EB5198C928` FOREIGN KEY `FK4C58B7EB5198C928` (`UNIT_ID_FROM`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK4C58B7EBFAA5A18A` FOREIGN KEY `FK4C58B7EBFAA5A18A` (`USER_FROM_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `transferbatch`
 DROP FOREIGN KEY `FK88175A2F3B281F77`;

ALTER TABLE `transferbatch`
 DROP FOREIGN KEY `FK88175A2FBF90D67D`;

ALTER TABLE `transferbatch` ADD CONSTRAINT `FK88175A2F3B281F77` FOREIGN KEY `FK88175A2F3B281F77` (`BATCH_ID`)
    REFERENCES `batch` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK88175A2FBF90D67D` FOREIGN KEY `FK88175A2FBF90D67D` (`TRANSFERITEM_ID`)
    REFERENCES `transferitem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `transferitem`
 DROP FOREIGN KEY `FK8046457E1CBB077D`;

ALTER TABLE `transferitem`
 DROP FOREIGN KEY `FK8046457E4BADD8BD`;

ALTER TABLE `transferitem`
 DROP FOREIGN KEY `FK8046457E51FC2C9`;

ALTER TABLE `transferitem`
 DROP FOREIGN KEY `FK8046457EA6DF751C`;

ALTER TABLE `transferitem`
 DROP FOREIGN KEY `FK8046457EBC45025D`;

ALTER TABLE `transferitem` ADD CONSTRAINT `FK8046457E1CBB077D` FOREIGN KEY `FK8046457E1CBB077D` (`SOURCE_ID`)
    REFERENCES `source` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK8046457E4BADD8BD` FOREIGN KEY `FK8046457E4BADD8BD` (`TRANSFER_ID`)
    REFERENCES `transfer` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK8046457E51FC2C9` FOREIGN KEY `FK8046457E51FC2C9` (`MOV_OUT_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK8046457EA6DF751C` FOREIGN KEY `FK8046457EA6DF751C` (`MOV_IN_ID`)
    REFERENCES `movement` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK8046457EBC45025D` FOREIGN KEY `FK8046457EBC45025D` (`MEDICINE_ID`)
    REFERENCES `medicine` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `treatmenthealthunit`
 DROP FOREIGN KEY `FKFE22905871E04A4B`;

ALTER TABLE `treatmenthealthunit`
 DROP FOREIGN KEY `FKFE229058A3F04EEB`;

ALTER TABLE `treatmenthealthunit` ADD CONSTRAINT `FKFE22905871E04A4B` FOREIGN KEY `FKFE22905871E04A4B` (`UNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FKFE229058A3F04EEB` FOREIGN KEY `FKFE229058A3F04EEB` (`CASE_ID`)
    REFERENCES `tbcase` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `userlogin`
 DROP FOREIGN KEY `FK14F1AA7EB3B1717`;

ALTER TABLE `userlogin`
 DROP FOREIGN KEY `FK14F1AA7EBA5DB63D`;

ALTER TABLE `userlogin` ADD CONSTRAINT `FK14F1AA7EB3B1717` FOREIGN KEY `FK14F1AA7EB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK14F1AA7EBA5DB63D` FOREIGN KEY `FK14F1AA7EBA5DB63D` (`USER_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `userpermission`
 DROP FOREIGN KEY `FK974CAFDA7730850C`;

ALTER TABLE `userpermission`
 DROP FOREIGN KEY `FK974CAFDAB93F8B48`;

ALTER TABLE `userpermission` ADD CONSTRAINT `FK974CAFDA7730850C` FOREIGN KEY `FK974CAFDA7730850C` (`PROFILE_ID`)
    REFERENCES `userprofile` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK974CAFDAB93F8B48` FOREIGN KEY `FK974CAFDAB93F8B48` (`ROLE_ID`)
    REFERENCES `userrole` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `userprofile`
 DROP FOREIGN KEY `FK7857D37EB3B1717`;

ALTER TABLE `userprofile` ADD CONSTRAINT `FK7857D37EB3B1717` FOREIGN KEY `FK7857D37EB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152A21EFF75D`;

ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152A6515C41D`;

ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152A7730850C`;

ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152AB3B1717`;

ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152ABA5DB63D`;

ALTER TABLE `userworkspace`
 DROP FOREIGN KEY `FK3FB6152ACEDEEA7C`;

ALTER TABLE `userworkspace` ADD CONSTRAINT `FK3FB6152A21EFF75D` FOREIGN KEY `FK3FB6152A21EFF75D` (`HEALTHSYSTEM_ID`)
    REFERENCES `healthsystem` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3FB6152A6515C41D` FOREIGN KEY `FK3FB6152A6515C41D` (`TBUNIT_ID`)
    REFERENCES `tbunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3FB6152A7730850C` FOREIGN KEY `FK3FB6152A7730850C` (`PROFILE_ID`)
    REFERENCES `userprofile` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3FB6152AB3B1717` FOREIGN KEY `FK3FB6152AB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3FB6152ABA5DB63D` FOREIGN KEY `FK3FB6152ABA5DB63D` (`USER_ID`)
    REFERENCES `sys_user` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
 ADD CONSTRAINT `FK3FB6152ACEDEEA7C` FOREIGN KEY `FK3FB6152ACEDEEA7C` (`ADMINUNIT_ID`)
    REFERENCES `administrativeunit` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

delete from workspaceview where id not in (select id from workspace);
    
ALTER TABLE `workspaceview` ADD CONSTRAINT `FK_workspaceview_WS` FOREIGN KEY `FK_workspaceview_WS` (`id`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;

ALTER TABLE `sequenceinfo`
 DROP FOREIGN KEY `FK302E13EFB3B1717`;

ALTER TABLE `sequenceinfo` ADD CONSTRAINT `FK302E13EFB3B1717` FOREIGN KEY `FK302E13EFB3B1717` (`WORKSPACE_ID`)
    REFERENCES `workspace` (`id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE;
