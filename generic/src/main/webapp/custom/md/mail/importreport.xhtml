<!-- <?xml version="1.0" encoding="UTF-8"?> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
      			xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/mail/usertemplate.xhtml">
      
      <ui:param name="subject" value="SYMETB Importing report" />
      
<ui:define name="content">

<style type="text/css">
.table {font-size:12px;border-collapse:collapse;border:1px solid #a0a0a0;}
.table td { border:1px solid #a0a0a0;padding:2px;}
.table th { background-color:black;color:white;text-weight:bold;}
.paragraph {margin-bottom:4px;font-size:14px;font-weight:bold;color:#a0a0a0;text-decoration:underline;width:100%}
</style>

   
        <h3>e-TB Manager Importing report</h3><p/>
        This is an automatic message sent by the e-TB Manager and it shall not be answered.<br/>
        A new importing was done from SYME-TB to e-TB Manager. Bellow is a resume of the importing:<p/>

	<table class="table" style="margin-bottom:10px;">
	<tr>
		<td>Cases processed:</td>
		<td>#{symetaIntegration.countCasesRead}</td>
	</tr>
	<tr>
		<td>Cases imported:</td>
		<td>#{symetaIntegration.countCases}</td>
	</tr>
	<tr>
		<td>New cases:</td>
		<td>#{symetaIntegration.countNewCases}</td>
	</tr>
	</table>

	<s:fragment rendered="#{not empty symetaIntegration.newCases}">        
        <div class="paragraph">
        	New cases imported
        </div>
        <h:dataTable value="#{symetaIntegration.newCases}" var="c" width="100%"  class="table" >
        	<h:column>
        		#{c}
        	</h:column>
        </h:dataTable>
	</s:fragment>

	<s:fragment rendered="#{not empty symetaIntegration.warnings}">
        <div class="paragraph">
        	Warnings generated during importing
        </div>
        <h:dataTable value="#{symetaIntegration.warnings}" var="it" width="100%" class="table">
        	<h:column>
        		<f:facet name="header">Description
        		</f:facet>
        		<s:fragment rendered="#{(not empty it.name) or (not empty it.id)}">
        			<b>(#{it.id}) #{it.name}</b><br/>
        		</s:fragment>
        		#{it.description}
        	</h:column>
        </h:dataTable>		
	</s:fragment>        


</ui:define>
      
</ui:composition>
