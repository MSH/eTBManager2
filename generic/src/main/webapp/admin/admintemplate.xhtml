<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:s="http://jboss.com/products/seam/taglib"
                template="/layout/template_new.xhtml">

<ui:param name="topmenu" value="3" />

<ui:define name="naveg">
	<div class="item#{submenu=='0'?' selected':''}">
		<s:link value="#{messages['admin.tables']}" view="/admin/index.xhtml" />
	</div>
	<div class="item#{submenu=='1'?' selected':''}">
		<s:link value="#{messages['admin.reports']}" view="/admin/reports.xhtml" />
	</div>
	<div class="item#{submenu=='2'?' selected':''}">
		<s:link value="#{messages['admin.config']}" view="/admin/config.xhtml" />
	</div>
</ui:define>


<ui:define name="left">
	<div class="vertical-menu">

	<s:fragment rendered="#{submenu=='0'}">
    	<s:link view="/admin/adminunits.xhtml" propagation="none" rendered="#{s:hasRole('ADMINUNITS')}">
    		<i class="icon-sitemap" />#{messages['admin.adminunits']}
    	</s:link>
    	<s:link view="/admin/healthsys.xhtml" propagation="none" rendered="#{s:hasRole('HEALTHSYS')}">
    		<i class="icon-puzzle-piece" />#{messages['admin.healthsys']}
    	</s:link>
    	<s:fragment rendered="#{s:hasRole('TBUNITS')}">
    		<s:link view="/admin/units.xhtml" propagation="none" >
    			<i class="icon-hospital" />#{messages['admin.tbunits']}
    		</s:link>
    	</s:fragment>
    	<s:link view="/admin/sources.xhtml" propagation="none" rendered="#{s:hasRole('SOURCES')}">
    		<i class="icon-dropbox" />#{messages['admin.sources']}
    	</s:link>
    	<s:link view="/admin/substances.xhtml" propagation="none" rendered="#{s:hasRole('SUBSTANCES')}">
    		<i class="icon-h-sign"/>#{messages['admin.substances']}
    	</s:link>
    	<s:link view="/admin/medicines.xhtml" propagation="none" rendered="#{s:hasRole('MEDICINES')}">
    		<i class="icon-h-sign"/>#{messages['admin.medicines']}
    	</s:link>
    	<s:link view="/admin/groups.xhtml" value="#{messages['admin.groups']}" propagation="none" rendered="#{s:hasRole('GROUPS')}"/>
    	<s:link view="/admin/regimens.xhtml" propagation="none" rendered="#{s:hasRole('REGIMENS')}">
    		<i class="icon-medkit"/>#{messages['admin.regimens']}
    	</s:link>
    	<s:fragment rendered="#{s:hasRole('LABS')}">
	    	<s:link view="/admin/labs.xhtml" value="" propagation="none" >
	    		<i class="icon-building" /> #{messages['admin.labs']}
	    	</s:link>
    	</s:fragment>
		<hr/>
    	<s:link view="/admin/weekfreqs.xhtml" propagation="none" rendered="#{s:hasRole('WEEKFREQ')}">
    		<i class="icon-calendar" />#{messages['admin.weeklyfreq']}
    	</s:link>
    	<s:link view="/admin/ageranges.xhtml" propagation="none" rendered="#{s:hasRole('AGERANGES')}">
    		<i class="icon-tasks" />#{messages['admin.ageranges']}
    	</s:link>
    	<s:link view="/admin/fields.xhtml" propagation="none" rendered="#{s:hasRole('FIELDS') and (not empty tbFields)}">
    		<i class="icon-sort-by-attributes-alt" />#{messages['admin.fields']}
    	</s:link>
		<s:fragment rendered="#{s:hasRole('TAGS')}">
    		<s:link view="/admin/tags.xhtml" value="" propagation="none" >
    			<i class="icon-tags" />#{messages['admin.tags']}
    		</s:link>
    	</s:fragment>
		<hr/>
		<s:fragment rendered="#{s:hasRole('USERS')}">
    		<s:link view="/admin/users.xhtml" propagation="none" >
    			<i class="icon-user" />#{messages['admin.users']}
    		</s:link>
    	</s:fragment>
    	<s:link view="/admin/profiles.xhtml" propagation="none" rendered="#{s:hasRole('PROFILES')}">
    		<i class="icon-key" /> #{messages['admin.profiles']}
    	</s:link>
		<s:fragment rendered="#{s:hasRole('IMPORT')}">
      		<hr/>
      		<s:link view="/admin/import.xhtml" propagation="none" >
      			<i class="icon-upload-alt" />#{messages['admin.import']}
      		</s:link>
		</s:fragment>
	</s:fragment>
	
	
	<s:fragment rendered="#{submenu=='1'}">
    	<s:link view="/admin/websessions.xhtml"  propagation="none" rendered="#{s:hasRole('ONLINE')}" >
    		<i class="icon-table" />#{messages['admin.websessions']}
    	</s:link>
    	<s:link view="/admin/repusersession.xhtml" propagation="none" rendered="#{s:hasRole('USERSESREP')}">
    		<i class="icon-table" />#{messages['admin.reports.usersession']}
    	</s:link>
    	<s:link view="/admin/reptransactionlog.xhtml" propagation="none" rendered="#{s:hasRole('LOGREP')}">
    		<i class="icon-table" />#{messages['userrole.LOGREP']}
    	</s:link>
    	<s:link view="/admin/reptranstats.xhtml"  propagation="none" rendered="#{s:hasRole('LOGREP')}">
    		<i class="icon-table" />#{messages['admin.reports.transactionstats']}
    	</s:link>
    	<s:link view="/admin/errorlogreport.xhtml" propagation="none" rendered="#{s:hasRole('ERRORLOGREP')}">
    		<i class="icon-table" />#{messages['userrole.ERRORLOGREP']}
    	</s:link>
    </s:fragment>


	<s:fragment rendered="#{submenu=='2'}">
    	<s:link view="/admin/workspacesetup.xhtml" propagation="none" rendered="#{s:hasRole('SETUPWS')}" >
    		<i class="icon-wrench" />#{messages['admin.setup']} #{defaultWorkspace.name}
    	</s:link>
    	<s:link view="/admin/syssetup.xhtml" propagation="none" rendered="#{s:hasRole('SYSSETUP')}">
    		<i class="icon-cog" />#{messages['admin.syssetup']}
    	</s:link>
    	<s:link view="/admin/workspaces.xhtml" propagation="none" rendered="#{s:hasRole('WORKSPACES')}">
    		<i class="icon-globe" />#{messages['admin.workspaces']}
    	</s:link>
	</s:fragment>
	</div>
</ui:define>

</ui:composition>  
