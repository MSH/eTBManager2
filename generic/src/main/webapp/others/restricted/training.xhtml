<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
      			xmlns:a="https://ajax4jsf.dev.java.net/ajax"
                xmlns:rich="http://richfaces.ajax4jsf.org/rich"
                template="/layout/template_new.xhtml">

<ui:param name="topmenu" value="0" />
<ui:param name="waitdlg" value="1" />
<ui:param name="title" value="Create training users" />

<ui:define name="content">
	<h:form id="main">
	<s:decorate template="/layout/roundrect.xhtml" style="width:600px;">
		<ui:define name="header"><b>Enter data of the new users to be created</b></ui:define>
		<ui:param name="showfooter" value="0" />
		<p>This page must be used to create new users in the current workspace for training purposes</p>

		<ui:param name="labelstyle" value="width:200px" />
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">Central Level unit:</ui:define>
			<h:selectOneMenu value="#{trainingHome.centralLevel}">
				<s:selectItems var="it" value="#{allunits}" label="#{it.name}"/>
				<s:convertEntity />
			</h:selectOneMenu>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">User Profile:</ui:define>
			<h:selectOneMenu value="#{trainingHome.profile}">
				<s:selectItems var="it" value="#{profiles}" label="#{it.name}"/>
				<s:convertEntity />
			</h:selectOneMenu>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">Number of users:</ui:define>
			<h:selectOneMenu value="#{trainingHome.numberOfUsers}">
				<f:selectItems value="#{trainingHome.numbers}" />
			</h:selectOneMenu>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">Region name prefix:</ui:define>
			<h:inputText value="#{trainingHome.regionPrefix}" style="width:300px" required="true"/>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">User login prefix:</ui:define>
			<h:inputText value="#{trainingHome.userPrefix}" style="width:300px" required="true"/>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">NTP name prefix:</ui:define>
			<h:inputText value="#{trainingHome.ntpPrefix}" style="width:300px" required="true"/>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">Regional warehouse prefix:</ui:define>
			<h:inputText value="#{trainingHome.warehousePrefix}" style="width:300px" required="true"/>
		</s:decorate>
		
		<s:decorate template="/layout/edit.xhtml">
			<ui:define name="label">Health unit prefix:</ui:define>
			<h:inputText value="#{trainingHome.healthUnitPrefix}" style="width:300px" required="true"/>
		</s:decorate>
		
		<a:commandLink action="#{trainingHome.createUsers}" value="Create" styleClass="button" reRender="messages,main"/>
	</s:decorate>
	</h:form>
</ui:define>

</ui:composition>            
