<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE ui:UiBinder SYSTEM "http://dl.google.com/gwt/DTD/xhtml.ent">
<ui:UiBinder xmlns:ui='urn:ui:com.google.gwt.uibinder' 
	xmlns:g='urn:import:com.google.gwt.user.client.ui'
	xmlns:c='urn:import:org.msh.tb.client.commons'
	xmlns:tbl='urn:import:org.msh.tb.client.tableview'
	xmlns:rep='urn:import:org.msh.tb.client.reports'>
	
	<ui:with field='msg' type='org.msh.tb.client.reports.resources.ReportConstants'/>
	
	<ui:style>
		.panel {
			background-color:#f8f8f8;
			border: 1px solid #f0f0f0;
			border-radius: 4px;
			padding:4px 8px;
			margin-bottom:8px;
			margin-top:4px;
		}
		.tableRegion {
			max-width:990px;
			overflow: auto;	
		}
		.reportTitle {
			font-size:20px;
			font-weight: normal;
			display: inline;
			border:2px solid white;
		}
		.reportTitle:hover {
			border:2px solid #069;
			cursor:pointer;
		}
		.openReport {
			padding: 4px 4px 4px 8px;
			margin-right:4px;
			border-radius:16px;
		}
		.openReport i {
			font-size:12px;
		}
		.iconButton {
			color: #909090;
			border-radius:2px;
			padding:4px 2px 2px 4px;
			top: 8px;
			position: relative;
		}
		.iconButton:hover {
			color: #5a5a5a;
			background-color:#e0e0e0;
		}
		.edtTitle {
			font-size:16px;
			width:700px;
		}
	</ui:style>

	<g:HTMLPanel ui:field="pnlContent" >
		<h1><ui:text from="{msg.title}" /></h1>
		<rep:ReportListPanel ui:field="pnlReportList">
		    
		</rep:ReportListPanel>
		<g:HTMLPanel ui:field="pnlReport">
	    <table width="100%">
	        <tr>
	            <td>
	    			<h2>
	    			    <g:Anchor ui:field="lnkOpen" styleName="gwt-Button {style.openReport}"><i class="icon-chevron-down"></i></g:Anchor>
	    			    <g:Label styleName="{style.reportTitle}" ui:field="txtTitle" />
	    			    <g:TextBox ui:field="edtTitle" styleName="{style.edtTitle}" maxLength="200" />
	    			</h2>
	            </td>
	            <td align="right">
			        <g:Anchor ui:field="lnkSave" styleName="{style.iconButton}" title="Save report"><i class="icon-save"></i></g:Anchor>
			        <g:Anchor ui:field="lnkMenu" styleName="{style.iconButton}" title="{msg.options}"><i class="icon-gear"></i></g:Anchor>
	            </td>
	        </tr>
	    </table>

	    <div class="{style.panel}">
	        
		<div style="float:right">
			<g:Button ui:field="btnAddFilter" text="{msg.addFilters}"/>
		</div>
		<h2><ui:text from="{msg.filters}" /></h2>
		<rep:FiltersPanel ui:field="pnlFilters"></rep:FiltersPanel>
		<hr/>
		<table width="100%" style="border-collapse:collapse">
		<tr>
			<td colspan="2">
				<c:MessagePanel ui:field="pnlMessage" visible="false" />
			</td>
		</tr>
		<tr>
			<td style="width:460px;margin-right:20px;vertical-align:top">
				<h2><ui:text from="{msg.rows}" /></h2>
				<rep:VariablesPanel ui:field="pnlRowVariables"></rep:VariablesPanel>
			</td>
			<td style="width:460px;vertical-align:top">
				<h2><ui:text from="{msg.columns}" /></h2>
				<rep:VariablesPanel ui:field="pnlColVariables"></rep:VariablesPanel>
			</td>
		</tr>
		</table>
		</div>
		<div style="clear:both;height:46px">
			<div style="float:right">
				<g:Button ui:field="btnGenerate" text="{msg.generate}"/>
			</div>
			<g:Anchor ui:field="lnkChartType"></g:Anchor>
		</div>
		<div id="divchart" style="width:100%; height:400px;margin-bottom:20px;"></div>
		<div class="{style.tableRegion}">
		<tbl:TableView ui:field="tblResult"></tbl:TableView>
		</div>
		</g:HTMLPanel>
	</g:HTMLPanel>
	
</ui:UiBinder>
