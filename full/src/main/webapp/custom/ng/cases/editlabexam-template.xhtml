<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a="https://ajax4jsf.dev.java.net/ajax"
                xmlns:s="http://jboss.com/products/seam/taglib">

    <h1>#{title}</h1>
    <s:decorate template="/layout/casebody.xhtml">

        <a:form id="formexam" styleClass="form1">

            <div class="form-content">

                <h2>#{messages['PatientSample.identification']}</h2>

                <div id="divdtcollected">
                    <s:decorate template="/layout/dateedit.xhtml" >
                        <ui:define name="label">#{messages['PatientSample.dateCollected']}:</ui:define>
                        <ui:param name="required" value="true" />
                        <ui:param name="future" value="false" />
                        <ui:param name="datefield" value="#{examHome.instance.dateCollected}" />
                        <ui:param name="checkDeathDate" value="true" />
                        <ui:param name="edtid" value="#{ctrlpre}dtcollected" />
                    </s:decorate>
                </div>

                <ui:insert name="afterdatecollected"/>

                <div id="divsample">
                    <s:decorate template="/layout/edit.xhtml" >
                        <ui:define name="label">#{messages['PatientSample.sampleNumber']}:</ui:define>
                        <h:inputText id="#{ctrlpre}sample" value="#{examHome.instance.sampleNumber}" maxlength="50" style="width:200px;"/>
                    </s:decorate>
                </div>

                <ui:insert name="aftersamplenumber"/>

                <s:decorate template="/layout/labselection.xhtml" >
                    <ui:param name="required" value="true" />
                    <ui:param name="labselection" value="#{examHome.labselection}" />
                    <ui:param name="edtid" value="#{ctrlpre}lab" />
                </s:decorate>

                <h2>#{messages['cases.exams.results']}</h2>
                    <ui:insert />

                    <s:decorate template="/layout/edit.xhtml" >
                        <ui:define name="label">#{messages['global.comments']}:</ui:define>
                        <h:inputTextarea id="#{ctrlpre}comments" value="#{examHome.instance.comments}" style="width:500px;height:80px;"/>
                    </s:decorate>

                    <ui:insert name="aftercomments"/>
                </div>

            <div class="form-footer">
                <div style="float:right;">
                    <span style="color:red;">*</span> #{messages['javax.faces.component.UIInput.REQUIRED']}
                </div>
                <a:commandLink action="#{examHome.save}" styleClass="button"
                               reRender="formexam,messages"
                               onclick="if (!disableButton(this)) return false;" >
                    <span>#{messages['form.save']}</span>
                </a:commandLink>
                <a:commandLink action="canceled" styleClass="button-alt" ajaxSingle="true"
                               onclick="if (!disableButton(this)) return false;">
                    <span>#{messages['form.cancel']}</span>
                </a:commandLink>
            </div>

        </a:form>
    </s:decorate>

    <script type="text/javascript">
        <!--
        function examStatusChanged(cb, immediate) {
            var s = cb.options[cb.selectedIndex].value;
            if (s=='PERFORMED')
                jQuery('#divexamcontent').slideDown(immediate?0:500)
            else jQuery('#divexamcontent').slideUp(immediate?0:500);
        }
        -->
    </script>


</ui:composition>
